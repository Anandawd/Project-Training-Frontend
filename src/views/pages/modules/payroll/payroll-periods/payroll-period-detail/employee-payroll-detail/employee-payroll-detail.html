<section class="content">
  <div class="container-fluid">
    <!-- button insert -->
    <div class="d-flex justify-content-between mb-2">
      <button
        title="Back"
        type="button"
        class="btn btn-secondary mr-1"
        @click="handleBack"
      >
        <i class="fa fa-arrow-left mr-1" aria-hidden="true"></i>{{
        $t('buttons.back') }}
      </button>
      <div>
        <button
          title="Save Draft"
          type="button"
          class="btn btn-secondary mr-1"
          @click="handleSave('', $global.modePayroll.save)"
          :disabled="!canSubmit"
        >
          <i class="fa fa-save mr-1" aria-hidden="true"></i>{{
          $t('buttons.save') }}
        </button>
        <button
          title="Submit for Approval"
          type="button"
          class="btn btn-success mr-1"
          @click="handleSubmitForApproval"
          :disabled="!canSubmit"
        >
          <i class="fa fa-paper-plane mr-1" aria-hidden="true"></i>{{
          $t('buttons.submit') }}
        </button>
        <button
          title="Apply Prorate"
          type="button"
          class="btn btn-primary mr-1"
          @click="handleShowModal('PRORATE')"
          :disabled="!canSubmit"
        >
          <i class="fa fa-plus mr-1" aria-hidden="true"></i>{{
          $t('buttons.prorate') }}
        </button>
        <button
          title="Insert Component"
          type="button"
          class="btn btn-primary mr-1"
          @click="handleShowModal('BENEFIT')"
        >
          <i class="fa fa-plus mr-1" aria-hidden="true"></i>{{
          $t('buttons.insertComponent') }}
        </button>
      </div>
    </div>

    <!-- modal benefit -->
    <payroll-component-modal
      ref="modalBenefitFormElement"
      v-show="showModalBenefit"
      :isGenerating="isSaving"
      @save="handleSaveBenefit"
      @close="showModalBenefit = false"
    />

    <!-- modal prorate -->
    <prorate-modal
      ref="modalProrateFormElement"
      v-show="showModalProrate"
      :isGenerating="isSaving"
      @save="handleSaveProrate"
      @close="showModalProrate = false"
    />

    <!-- Employee Information -->
    <employee-information :employee="employeeData" />

    <!-- Earnings -->
    <payroll-card
      :title="$t('labels.payroll.payroll.earnings')"
      :footertitle="$t('labels.payroll.payroll.totalGrossSalary')"
      :type="$t('labels.payroll.payroll.earnings')"
      :components="earningsComponents"
      :earningsStatutory="earningsStatutory"
      :deductionsStatutory="deductionsStatutory"
      :payrollData="payrollData"
      @update=""
      @delete=""
    />

    <!-- Deductions -->
    <payroll-card
      :title="$t('labels.payroll.payroll.deductions')"
      :footertitle="$t('labels.payroll.payroll.totalDeductionSalary')"
      :type="$t('labels.payroll.payroll.deductions')"
      :components="deductionsComponents"
      :earningsStatutory="earningsStatutory"
      :deductionsStatutory="deductionsStatutory"
      :payrollData="payrollData"
      @update=""
      @delete=""
    />

    <!-- Tax -->
    <!-- <tax-card
      :title="$t('labels.payroll.payroll.taxIncome')"
      :data="payrollData"
    /> -->

    <!-- Total Payment -->
    <total-payment-card
      :title="$t('labels.payroll.payroll.totalPayment')"
      :employeePayroll="payrollData"
    />

    <!-- dialog -->
    <c-dialog
      v-show="showDialog"
      dialogTitle="Confirm"
      size="sm"
      @confirm="confirmAction"
      @cancel="showDialog=false"
    >
      <template #body>{{dialogMessage}}</template>
    </c-dialog>
  </div>
</section>
